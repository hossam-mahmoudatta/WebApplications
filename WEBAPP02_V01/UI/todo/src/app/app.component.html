<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<div style = "margin: 100px;">
  <h2 class = "rounded p-3" style="background-color: red; text-align:center">
    Hossam's Todo App
  </h2>

  <div class="container">
    <h1 class = "rounded p-3" style="background-color: darkgreen; text-align:center">Welcome to My Angular App!</h1>
  </div>

  <div class="row justify-content-center mb-3">
    <div class="col-md-2">
      <button (click)="toggleTheme()" class="btn btn-warning w-100">
        Toggle Theme
      </button>
    </div>
  </div>

  <!-- Input for adding a new task -->
  <div class="row justify-content-center mb-3">
    <div class="col-6">
      <input 
        type="text" 
        #newTaskInput 
        class="form-control" 
        placeholder="Add a new task" 
        #addTask
      />
    </div>
    <div class="col-2">
      <button 
        class="btn btn-primary w-100" 
        (click)="add_task(addTask.value); addTask.value = ''">
        Add Task
      </button>
    </div>
  </div>



  <!-- Bootstrap table to display tasks -->
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>#</th> <!-- Column for task number -->
        <th>Task</th> <!-- Column for task description -->
        <th>Actions</th> <!-- Column for action buttons -->
      </tr>
    </thead>


    <tbody>
      <!-- Iterate through tasks and create table rows -->
      <tr *ngFor="let task of tasks; let i = index">
        <td>{{ i + 1 }}</td> <!-- Show the task number -->

        <!-- Check if task is being edited -->
        <td *ngIf="!task.isEditing; else editMode">
          <!-- Show task text if not in edit mode -->
          {{ task.task }}
        </td>
        
        <td>
          <button 
            class="btn btn-warning btn-sm mx-1"
            (click) = "edit_task(task)">
            Edit Task
          </button>
          <button 
            class="btn btn-danger btn-sm mx-1"
            (click) = "delete_task(task.id)">
            Delete Task
          </button>
        </td>

        <!-- Editing Mode -->
        <ng-template #editMode>
          <td>
            <input [(ngModel)]="task.task" placeholder="Edit task..." />
          </td>
          <td>
            <button class="btn btn-success btn-sm mx-1" (click) = "update_task(task)">
              Update
            </button>
            <button class="btn btn-secondary btn-sm mx-1" (click)="cancel_edit(task)">
              Cancel
            </button>
          </td>
        </ng-template>
      </tr>
    </tbody>
  </table>

</div>

<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder  * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->